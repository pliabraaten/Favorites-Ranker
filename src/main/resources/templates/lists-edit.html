<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>
    <meta charset="UTF-8">
    <title>Edit List</title>
</head>

<body>
<section layout:fragment="body" class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8">

                <!-- Card for edit form -->
                <div class="card shadow">
                    <div class="card-body p-5">

                        <!-- Title -->
                        <h1 class="text-center mb-4">Edit List</h1>
                        <p class="text-center text-muted mb-4">
                            Update your list name
                        </p>

                        <!-- Edit Form -->
                        <form method="post"
                              th:action="@{/lists/{listId}/edit(listId=${list.id})}"
                              th:object="${list}">

                            <!-- Hidden ID field -->
                            <input type="hidden" th:field="*{id}">

                            <!-- List Name Field -->
                            <div class="mb-3">
                                <label for="title" class="form-label">List Name</label>
                                <input
                                        id="title"
                                        type="text"
                                        class="form-control"
                                        placeholder="e.g., Top Restaurants"
                                        th:field="*{listName}"
                                        th:classappend="${#fields.hasErrors('listName')} ? 'is-invalid' : ''"
                                        required
                                        autofocus>
                                <div th:if="${#fields.hasErrors('listName')}"
                                     class="invalid-feedback"
                                     th:errors="*{listName}">
                                    List name is required
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid gap-2 mb-3">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-check-circle-fill"></i> Save Changes
                                </button>
                            </div>

                            <!-- Back Link -->
                            <div class="text-center">
                                <a th:href="@{/lists/{listId}(listId=${list.id})}"
                                   class="btn btn-outline-secondary">
                                    <i class="bi bi-arrow-left"></i> Cancel
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>